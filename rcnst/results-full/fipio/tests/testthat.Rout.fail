
R Under development (unstable) (2025-09-24 r88872) -- "Unsuffered Consequences"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(mockery)
> library(fipio)
> 
> test_check("fipio")
ERROR: modification of compiler constant of type double, length 7
ERROR: the modified value of the constant is:
[1]  2 15 60 66 69 72 78
attr(,".match.hash")
<hash table>
ERROR: the original value of the constant is:
[1]  2 15 60 66 69 72 78
ERROR: the modified constant is at index 1
ERROR: the modified constant is in this function body:
c(2, 15, 60, 66, 69, 72, 78)
[ FAIL 1 | WARN 0 | SKIP 1 | PASS 178 ]

══ Skipped tests (1) ═══════════════════════════════════════════════════════════
• On CRAN (1): 'test-fipio.R:191:5'

══ Failed tests ════════════════════════════════════════════════════════════════
── Error ('test-fipio.R:98:5'): as_fips edge cases ─────────────────────────────
Error in `paste0("%0", if (nchar(as.character(y)) < 3) 2 else 5, if (is.character(y)) "s" else "d")`: VECTOR_ELT() can only be applied to a 'list', not a 'char'
Backtrace:
     ▆
  1. ├─testthat::expect_equal(...) at test-fipio.R:98:5
  2. │ └─testthat::quasi_label(enquo(object), label, arg = "object")
  3. │   └─rlang::eval_bare(expr, quo_get_env(quo))
  4. └─fipio::as_fips(c("CA", "RI"), c("Alameda", "all"))
  5.   ├─base::unlist(mapply(as_fips, state, county), use.names = FALSE)
  6.   └─base::mapply(as_fips, state, county)
  7.     └─fipio (local) `<fn>`(dots[[1L]][[1L]], dots[[2L]][[1L]])
  8.       ├─as.integer(substr(.pad0(.lookup_fips), 1, 2)) %in% ret
  9.       ├─base::substr(.pad0(.lookup_fips), 1, 2)
 10.       └─fipio:::.pad0(.lookup_fips)
 11.         └─base::sapply(...)
 12.           └─base::lapply(X = X, FUN = FUN, ...)
 13.             └─fipio (local) FUN(X[[i]], ...)
 14.               ├─base::sprintf(...)
 15.               └─base::paste0(...)

[ FAIL 1 | WARN 0 | SKIP 1 | PASS 178 ]
Error: Test failures
Execution halted
