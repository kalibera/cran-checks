* using log directory ‘/var/scratch2/tomas/cran/rlibro/check/bioLeak.Rcheck’
* using R Under development (unstable) (2026-01-22 r89316)
* using platform: x86_64-pc-linux-gnu
* R was compiled by
    gcc (GCC) 15.2.1 20251111 (Red Hat 15.2.1-4)
    GNU Fortran (GCC) 15.2.1 20251111 (Red Hat 15.2.1-4)
* running under: Fedora Linux 42 (MATE-Compiz)
* using session charset: UTF-8
* checking for file ‘bioLeak/DESCRIPTION’ ... OK
* checking extension type ... Package
* this is package ‘bioLeak’ version ‘0.1.0’
* package encoding: UTF-8
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for executable files ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking for sufficient/correct file permissions ... OK
* checking whether package ‘bioLeak’ can be installed ... OK
* checking package directory ... OK
* checking ‘build’ directory ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... OK
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking code files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking loading without being on the library search path ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... OK
* checking Rd files ... OK
* checking Rd metadata ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... OK
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking installed files from ‘inst/doc’ ... OK
* checking files in ‘vignettes’ ... OK
* checking examples ... ERROR
Running examples in ‘bioLeak-Ex.R’ failed
The error most likely occurred in:

> ### Name: audit_report
> ### Title: Render an HTML audit report
> ### Aliases: audit_report
> 
> ### ** Examples
> 
> set.seed(1)
> df <- data.frame(
+   subject = rep(1:6, each = 2),
+   outcome = factor(rep(c(0, 1), 6)),
+   x1 = rnorm(12),
+   x2 = rnorm(12)
+ )
> 
> splits <- make_split_plan(df, outcome = "outcome",
+                       mode = "subject_grouped", group = "subject",
+                       v = 3, progress = FALSE)
> 
> custom <- list(
+   glm = list(
+     fit = function(x, y, task, weights, ...) {
+       stats::glm(y ~ ., data = data.frame(y = y, x),
+                  family = stats::binomial(), weights = weights)
+     },
+     predict = function(object, newdata, task, ...) {
+       as.numeric(stats::predict(object,
+                                 newdata = as.data.frame(newdata),
+                                 type = "response"))
+     }
+   )
+ )
> 
> fit <- fit_resample(df, outcome = "outcome", splits = splits,
+                     learner = "glm", custom_learners = custom,
+                     metrics = "auc", refit = FALSE, seed = 1)

  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |======================================================================| 100%
> 
> audit <- audit_leakage(fit, metric = "auc", B = 5, perm_stratify = FALSE)

  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |======================================================================| 100%

  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |======================================================================| 100%

  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |======================================================================| 100%

  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |======================================================================| 100%

  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |===============================================                       |  67%
  |                                                                            
  |======================================================================| 100%
> 
> if (requireNamespace("rmarkdown", quietly = TRUE) &&
+     requireNamespace("ggplot2", quietly = TRUE)) {
+   out_file <- audit_report(audit, output_dir = tempdir(), quiet = TRUE)
+   out_file
+ }
Warning in file(con, "w") :
  cannot open file 'audit_report.knit.md': Read-only file system
Error in file(con, "w") : cannot open the connection
Calls: audit_report ... <Anonymous> -> <Anonymous> -> write_utf8 -> writeLines -> file
Execution halted
* checking for unstated dependencies in ‘tests’ ... OK
* checking tests ... OK
  Running ‘testthat.R’
* checking for unstated dependencies in vignettes ... OK
* checking package vignettes ... OK
* checking re-building of vignette outputs ... OK
* checking PDF version of manual ... OK
* DONE
Status: 1 ERROR
