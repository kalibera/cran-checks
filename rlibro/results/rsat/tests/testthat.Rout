
R Under development (unstable) (2021-12-03 r81289) -- "Unsuffered Consequences"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(rsat)
> 
> test_check("rsat")
<simpleError in curl_download(pic.url, destfile = destfile, handle = c.handle): Timeout was reached: [] Operation timed out after 10001 milliseconds with 0 out of 0 bytes received>
Name: Navarre_download
 -N. records: 3
 -Products: mod09ga, LANDSAT_8_C1_lvl2, S2MSI2A
 -Satellites: Modis, Landsat-8, Sentinel-2
 -Dir size: 0.01GB
 -Dates: from 2021-03-02 to 2021-03-21
 -Database dir: /var/scratch2/tomas/tmp/RtmpcUpsHl/Database
 -rtoi dir: /var/scratch2/tomas/tmp/RtmpcUpsHl/Navarre_download
<simpleError in utils::unzip(zip.file, list = TRUE): invalid zip name argument>
<simpleError in rsat_cloud_mask(navarre, products = "mod09ga"): could not find function "rsat_cloud_mask">
Extent: 
 EPSG: NA
 xmin: NA
 ymin: NA
 xmax: NA
 ymax: NA
Extent: 
 EPSG:  NA 
 xmin:  2 
 ymin:  1 
 xmax:  1 
 ymax:  1 
[1] "Adding query intersects"
[1] "Testing records..."
     Api_name         Portal      Username   Password  
[1,] "earthexplorer"  "usgs"      "username" "password"
[2,] "ESPA"           "earthdata" "username" "password"
[3,] "nasa_inventory" "usgs"      "username" "password"
[4,] "scihub"         "scihub"    "username" "password"
[1] "Adding query region"
    sat                                      name       date product path row
1 Modis MOD09GA.A2021061.h17v04.006.2021063025039 2021-03-02 mod09ga   17   4
2 Modis MOD09GA.A2021062.h17v04.006.2021065050034 2021-03-03 mod09ga   17   4
3 Modis MOD09GA.A2021063.h17v04.006.2021065034222 2021-03-04 mod09ga   17   4
4 Modis MOD09GA.A2021064.h17v04.006.2021066033734 2021-03-05 mod09ga   17   4
5 Modis MOD09GA.A2021065.h17v04.006.2021067030742 2021-03-06 mod09ga   17   4
6 Modis MOD09GA.A2021066.h17v04.006.2021068052152 2021-03-07 mod09ga   17   4
  tileid
1       
2       
3       
4       
5       
6       
                                                                                                      download
1 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.02/MOD09GA.A2021061.h17v04.006.2021063025039.hdf
2 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.03/MOD09GA.A2021062.h17v04.006.2021065050034.hdf
3 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.04/MOD09GA.A2021063.h17v04.006.2021065034222.hdf
4 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.05/MOD09GA.A2021064.h17v04.006.2021066033734.hdf
5 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.06/MOD09GA.A2021065.h17v04.006.2021067030742.hdf
6 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.07/MOD09GA.A2021066.h17v04.006.2021068052152.hdf
                                                    file_path
1 Modis/mod09ga/MOD09GA.A2021061.h17v04.006.2021063025039.hdf
2 Modis/mod09ga/MOD09GA.A2021062.h17v04.006.2021065050034.hdf
3 Modis/mod09ga/MOD09GA.A2021063.h17v04.006.2021065034222.hdf
4 Modis/mod09ga/MOD09GA.A2021064.h17v04.006.2021066033734.hdf
5 Modis/mod09ga/MOD09GA.A2021065.h17v04.006.2021067030742.hdf
6 Modis/mod09ga/MOD09GA.A2021066.h17v04.006.2021068052152.hdf
                                                                                                                 preview
1 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.04/BROWSE.MOD09GA.A2021061.h17v04.006.2021063025039.1.jpg
2 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.06/BROWSE.MOD09GA.A2021062.h17v04.006.2021065050034.1.jpg
3 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.06/BROWSE.MOD09GA.A2021063.h17v04.006.2021065034222.1.jpg
4 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.07/BROWSE.MOD09GA.A2021064.h17v04.006.2021066033734.1.jpg
5 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.08/BROWSE.MOD09GA.A2021065.h17v04.006.2021067030742.1.jpg
6 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.09/BROWSE.MOD09GA.A2021066.h17v04.006.2021068052152.1.jpg
        api_name order  EPSG     xmin    ymin      xmax    ymax
1 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
2 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
3 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
4 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
5 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
6 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
Record: 
sat: Modis
name: MOD09GA.A2021061.h17v04.006.2021063025039
date: 2021-03-02
product: mod09ga
path: 17
row: 4
tileid: 
download: https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.02/MOD09GA.A2021061.h17v04.006.2021063025039.hdf
file_path: Modis/mod09ga/MOD09GA.A2021061.h17v04.006.2021063025039.hdf
preview: https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.04/BROWSE.MOD09GA.A2021061.h17v04.006.2021063025039.1.jpg
api_name: nasa_inventory
order: FALSE
[1] "Testing rtoi..."
Data and variable methods provided by rsat
Satellite products: ls1, ls2, ls3, ls4, ls5, ls7, ls8, mod09ga, myd09ga, mcd43a4, Sentinel-1, Sentinel-2, Sentinel-3, SY_2_SYN___.
Variable Methods: EVI, MSAVI2, NBR, NBR2, NDMI, NDVI, NDWI, RGB, SAVI.[1] "Adding query region"
Name: Navarre_rtoi
 -N. records: 3
 -Products: mod09ga, LANDSAT_8_C1, S2MSI2A
 -Satellites: Modis, Landsat-8, Sentinel-2
 -Dir size: 0GB
 -Dates: from 2021-03-02 to 2021-03-21
 -Database dir: /var/scratch2/tomas/tmp/RtmpRxyhjC/DATABASE
 -rtoi dir: /var/scratch2/tomas/tmp/RtmpRxyhjC/Navarre_rtoi
<simpleError in .local(x, y, ...): view mode requires product argument.>
=====|====|====|====|====|====|====|====|====|====--------------------------------------------------                                                  
Error in x$.self$finalize() : attempt to apply non-function
Error in x$.self$finalize() : attempt to apply non-function
=====|====|====|====|====|====|====|====|====|====--------------------------------------------------                                                  
=====|====|====|====|====|====|====|====|====|====--------------------------------------------------                                                  
Extent: 
 EPSG: NA
 xmin: NA
 ymin: NA
 xmax: NA
 ymax: NA
Extent: 
 EPSG:  NA 
 xmin:  2 
 ymin:  1 
 xmax:  1 
 ymax:  1 
[1] "Adding query intersects"
[1] "Testing records..."
     Api_name         Portal      Username   Password  
[1,] "earthexplorer"  "usgs"      "username" "password"
[2,] "ESPA"           "earthdata" "username" "password"
[3,] "nasa_inventory" "usgs"      "username" "password"
[4,] "scihub"         "scihub"    "username" "password"
[1] "Adding query region"
    sat                                      name       date product path row
1 Modis MOD09GA.A2021061.h17v04.006.2021063025039 2021-03-02 mod09ga   17   4
2 Modis MOD09GA.A2021062.h17v04.006.2021065050034 2021-03-03 mod09ga   17   4
3 Modis MOD09GA.A2021063.h17v04.006.2021065034222 2021-03-04 mod09ga   17   4
4 Modis MOD09GA.A2021064.h17v04.006.2021066033734 2021-03-05 mod09ga   17   4
5 Modis MOD09GA.A2021065.h17v04.006.2021067030742 2021-03-06 mod09ga   17   4
6 Modis MOD09GA.A2021066.h17v04.006.2021068052152 2021-03-07 mod09ga   17   4
  tileid
1       
2       
3       
4       
5       
6       
                                                                                                      download
1 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.02/MOD09GA.A2021061.h17v04.006.2021063025039.hdf
2 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.03/MOD09GA.A2021062.h17v04.006.2021065050034.hdf
3 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.04/MOD09GA.A2021063.h17v04.006.2021065034222.hdf
4 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.05/MOD09GA.A2021064.h17v04.006.2021066033734.hdf
5 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.06/MOD09GA.A2021065.h17v04.006.2021067030742.hdf
6 https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.07/MOD09GA.A2021066.h17v04.006.2021068052152.hdf
                                                    file_path
1 Modis/mod09ga/MOD09GA.A2021061.h17v04.006.2021063025039.hdf
2 Modis/mod09ga/MOD09GA.A2021062.h17v04.006.2021065050034.hdf
3 Modis/mod09ga/MOD09GA.A2021063.h17v04.006.2021065034222.hdf
4 Modis/mod09ga/MOD09GA.A2021064.h17v04.006.2021066033734.hdf
5 Modis/mod09ga/MOD09GA.A2021065.h17v04.006.2021067030742.hdf
6 Modis/mod09ga/MOD09GA.A2021066.h17v04.006.2021068052152.hdf
                                                                                                                 preview
1 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.04/BROWSE.MOD09GA.A2021061.h17v04.006.2021063025039.1.jpg
2 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.06/BROWSE.MOD09GA.A2021062.h17v04.006.2021065050034.1.jpg
3 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.06/BROWSE.MOD09GA.A2021063.h17v04.006.2021065034222.1.jpg
4 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.07/BROWSE.MOD09GA.A2021064.h17v04.006.2021066033734.1.jpg
5 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.08/BROWSE.MOD09GA.A2021065.h17v04.006.2021067030742.1.jpg
6 https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.09/BROWSE.MOD09GA.A2021066.h17v04.006.2021068052152.1.jpg
        api_name order  EPSG     xmin    ymin      xmax    ymax
1 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
2 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
3 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
4 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
5 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
6 nasa_inventory FALSE 54008 -1114607 4425384 -64.49701 5535855
Record: 
sat: Modis
name: MOD09GA.A2021061.h17v04.006.2021063025039
date: 2021-03-02
product: mod09ga
path: 17
row: 4
tileid: 
download: https://e4ftl01.cr.usgs.gov//DP109/MOLT/MOD09GA.006/2021.03.02/MOD09GA.A2021061.h17v04.006.2021063025039.hdf
file_path: Modis/mod09ga/MOD09GA.A2021061.h17v04.006.2021063025039.hdf
preview: https://e4ftl01.cr.usgs.gov//WORKING/BRWS/Browse.001/2021.03.04/BROWSE.MOD09GA.A2021061.h17v04.006.2021063025039.1.jpg
api_name: nasa_inventory
order: FALSE
══ Skipped tests ═══════════════════════════════════════════════════════════════
• empty test (4)

[ FAIL 0 | WARN 0 | SKIP 4 | PASS 0 ]
> 
> proc.time()
   user  system elapsed 
 83.516  15.673  84.486 
[1] "Testing rtoi..."
Data and variable methods provided by rsat
Satellite products: ls1, ls2, ls3, ls4, ls5, ls7, ls8, mod09ga, myd09ga, mcd43a4, Sentinel-1, Sentinel-2, Sentinel-3, SY_2_SYN___.
Variable Methods: EVI, MSAVI2, NBR, NBR2, NDMI, NDVI, NDWI, RGB, SAVI.[1] "Adding query region"
Name: Navarre_rtoi
 -N. records: 3
 -Products: mod09ga, LANDSAT_8_C1, S2MSI2A
 -Satellites: Modis, Landsat-8, Sentinel-2
 -Dir size: 0GB
 -Dates: from 2021-03-02 to 2021-03-21
 -Database dir: /var/scratch2/tomas/tmp/RtmpcUpsHl/DATABASE
 -rtoi dir: /var/scratch2/tomas/tmp/RtmpcUpsHl/Navarre_rtoi
<simpleError in .local(x, y, ...): view mode requires product argument.>
=====|====|====|====|====|====|====|====|====|====--------------------------------------------------                                                  
Error in x$.self$finalize() : attempt to apply non-function
Error in x$.self$finalize() : attempt to apply non-function
=====|====|====|====|====|====|====|====|====|====--------------------------------------------------                                                  
=====|====|====|====|====|====|====|====|====|====--------------------------------------------------                                                  
══ Skipped tests ═══════════════════════════════════════════════════════════════
• empty test (4)

[ FAIL 0 | WARN 0 | SKIP 4 | PASS 0 ]
> 
> proc.time()
   user  system elapsed 
 87.336  18.560  88.568 
